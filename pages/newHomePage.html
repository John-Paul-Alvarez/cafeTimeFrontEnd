<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CafeTime - Welcome</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #fff8f5;
            color: #3a2c29;
        }

        .navbar-frame {
            width: 100%;
            height: 70px;
            border: none;
            display: block;
        }

        /* ===== Centered Intro Section (NEW) ===== */
        .intro-wrapper {
            text-align: center;
            /* centers all content */
            margin-top: 2rem;
            padding: 1rem;
        }

        .intro-wrapper h1 {
            margin-bottom: 0.5rem;
        }

        .intro-wrapper p {
            max-width: 700px;
            margin: 0.5rem auto 1.5rem auto;
            line-height: 1.4;
        }

        .cta-btn {
            background-color: #e53935;
            border: none;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            border-radius: 5px;
            color: white;
            cursor: pointer;
        }

        /* ===== Hero section ===== */
        .hero {
            margin-top: 0;
            /* removes gap above image */
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;

            padding: 2rem;
            height: 70vh;
            /* KEEP ORIGINAL SIZE */
            background: url("https://img.freepik.com/free-photo/anime-coffee-shop-illustration_23-2151764646.jpg") no-repeat center center/cover;
            position: relative;
        }

        .hero h1 {
            font-size: 3rem;
            font-weight: bold;
            color: white;

            -webkit-text-stroke: 2px black;
            /* outline */
            text-shadow: none;
            text-shadow: 0px 0px 60px rgba(0, 0, 0, 1), 0px 0px 50px rgba(0, 0, 0, 1);
        }

        /* Rest remains the same 
        .banner {
            text-align: center;
            margin: 2rem auto;
            max-width: 400px;
        } */

        .highlight-section {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            margin: 2rem auto;
            max-width: 1000px;
            padding: 1rem;
        }

        .highlight-section img {
            width: 45%;
            border-radius: 12px;
            margin: 1rem;
        }

        .highlight-section .text {
            flex: 1;
            margin: 1rem;
        }

        .categories {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem auto;
            flex-wrap: wrap;
        }

        .category-card {
            width: 200px;
            text-align: center;
            background: #ffe0b2;
            border-radius: 10px;
            padding: 1rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .category-card img {
            width: 100%;
            border-radius: 8px;
        }

        .category-card:hover {
            transform: scale(1.05);
        }

        footer {
            background-color: #ff7043;
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: 2rem;
        }

        footer a {
            color: white;
            margin: 0 0.5rem;
            text-decoration: none;
        }
    </style>
</head>

<body>

    <!-- Top Navbar -->
    <iframe src="navbar.html" class="navbar-frame"></iframe>

    <!-- ===== Centered Intro Text (NEW) ===== -->
    <div class="intro-wrapper">
        <h1>Welcome to CafeTime</h1>

        <p>
            CafeTime delivers you the best cafe pastries and drinks to warm you up any time!
            Order online and the cafe goods arrive at your door!
        </p>

        <button class="cta-btn" onclick="window.location.href='newMenuPage.html'">
            Start Your Order
        </button>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Anytime is CafeTime!</h1>
    </section>



    <!-- Menu Categories -->
    <section class="categories">
        <div class="category-card" onclick="window.location.href='http:searchResult.html?q=donuts'">
            <img src="https://sallysbakingaddiction.com/wp-content/uploads/2016/05/glazed-doughnuts-homemade-2.jpg"
                alt="Donuts">
            <p>Donuts</p>
        </div>
        <div class="category-card" onclick="window.location.href='http:searchResult.html?q=muffins'">
            <img src="https://www.spendwithpennies.com/wp-content/uploads/2024/08/Blueberry-Muffins-SpendWithPennies-7.jpg"
                alt="Muffins">
            <p>Muffins</p>
        </div>
        <div class="category-card" onclick="window.location.href='searchResult.html?q=drinks'">
            <img src="https://www.sharmispassions.com/wp-content/uploads/2020/02/iced-coffee-recipe1.jpg" alt="Coffee">
            <p>Refreshers</p>
        </div>
    </section>

    <!-- Highlight Drinks -->
    <section class="highlight-section">
        <img src="https://www.tastingtable.com/img/gallery/15-types-of-iced-coffee-explained/l-intro-1687369765.jpg"
            alt="Cafe Drinks">
        <div class="text">
            <h2>Hot & Cold Drinks</h2>
            <p>From rich espressos to refreshing iced coffees, our drinks menu has the perfect sip for every mood.</p>
        </div>
    </section>

    <!-- Highlight Pastries -->
    <section class="highlight-section">
        <div class="text">
            <h2>Freshly Baked Pastries</h2>
            <p>Indulge in warm croissants, muffins, and donuts – baked daily to pair perfectly with your favorite
                coffee.</p>
        </div>
        <img src="https://www.shutterstock.com/image-photo/closeup-variety-freshly-baked-pastries-600nw-2599222087.jpg"
            alt="Pastries">
    </section>

    <!-- Footer -->

    <footer>
        <p>&copy; 2025 CafeTime</p>
        <a href="404Page.html">About</a> |
        <a href="404Page.html">Contact</a> |
        <a href="feedback.html">Feedback</a> |
        <a href="404Page.html">Terms of Service</a>
    </footer>

</body>

</html>


<!-- 


    <section class="banner">
        <img src="https://thehealthfulideas.com/wp-content/uploads/2022/10/Iced-Pumpkin-Spiced-Latte-SQUARE.jpg"
            alt="Pumpkin Spice Latte">
        <h2>It's Pumpkin Spice Season!</h2>
        <p>Try our limited-time Pumpkin Spice Latte – the perfect autumn treat with warm spices and creamy goodness.</p>
    </section>

import { API_BASE } from "./config.js";
import { addToGuestCart } from "./cartStorage.js";
import { getDelivery } from "./delivery.js"

document.addEventListener('DOMContentLoaded', async () => {
const drinksSection = document.getElementById('drinks-section');
const pastriesSection = document.getElementById('pastries-section');
const drinksList = document.getElementById('drinks-list');
const pastriesList = document.getElementById('pastries-list');

const token = localStorage.getItem("authToken");
const guest = localStorage.getItem("guestMode") === "1";

if (!token && !guest) {
sessionStorage.setItem("postAddressRedirect", "menu.html");
window.location.href = "guessAndAddress_form.html";
return;
}

if (!token) {
const addr = getDelivery();
if (!addr || !addr.displayAddress) {
sessionStorage.setItem("postAddressRedirect", "menu.html");
window.location.href = "address_form.html";
return;
}
}

try {
const res = await fetch(`${API_BASE}/api/menu`);
const items = await res.json();

items.forEach(item => {
const li = document.createElement('li');

let innerHTML = `
<img src="${item.image}" alt="${item.name}" class="menu-img">
<div style="flex: 1">
    <h4>${item.name} - $${item.price.toFixed(2)}</h4>
    `;

    if (item.category === 'Drinks') {
    innerHTML += `
    <label>Sugar:
        <select class="sugar-select">
            <option value="No Sugar">No Sugar</option>
            <option value="Less Sugar">Less Sugar</option>
            <option value="Normal">Normal</option>
            <option value="Extra Sugar">Extra Sugar</option>
        </select>
    </label>

    <label>Milk:
        <select class="milk-select">
            <option value="Whole">Whole</option>
            <option value="Skim">Skim</option>
            <option value="Almond">Almond</option>
            <option value="Oat">Oat</option>
        </select>
    </label>

    <label>Size:
        <select class="size-select">
            <option value="Small">Small</option>
            <option value="Medium">Medium</option>
            <option value="Large">Large</option>
        </select>
    </label>
    `;
    } else if (item.category === 'Pastries') {
    innerHTML += `
    <label>Will heat:
        <select class="heat-select">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </label>
    `;
    }

    innerHTML += `
    <button data-id="${item._id}" data-name="${item.name}" data-price="${item.price}">Add to Cart</button>
</div>`;

li.innerHTML = innerHTML;

if (item.category === 'Drinks') {
drinksList.appendChild(li);
} else if (item.category === 'Pastries') {
pastriesList.appendChild(li);
}
});
} catch (err) {
console.error('Error loading menu:', err);
}

// Filtering logic
document.getElementById("show-drinks").addEventListener("click", () => {
drinksSection.style.display = "block";
pastriesSection.style.display = "none";
});

document.getElementById("show-pastries").addEventListener("click", () => {
drinksSection.style.display = "none";
pastriesSection.style.display = "block";
});

document.getElementById("show-all").addEventListener("click", () => {
drinksSection.style.display = "block";
pastriesSection.style.display = "block";
});

// Add-to-cart handler
document.body.addEventListener('click', async e => {
if (e.target.tagName === 'BUTTON' && e.target.dataset.id) {
const itemId = e.target.dataset.id;
const name = e.target.dataset.name;
const unitPrice = Number(e.target.dataset.price);

const parent = e.target.closest('div');
const sugar = parent.querySelector('.sugar-select')?.value || null;
const milk = parent.querySelector('.milk-select')?.value || null;
const size = parent.querySelector('.size-select')?.value || null;
const heat = parent.querySelector('.heat-select')?.value || null;

try {
const token = localStorage.getItem("authToken");

if (token) {
const res = await fetch(`${API_BASE}/api/cart/add`, {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Authorization': `Bearer ${token}`,
},
body: JSON.stringify({ itemId, sugar, milk, size, heat })
});

if (res.status === 401) {
window.location.href = "signin.html";
return;
}
const result = await res.json();
if (!res.ok || !result.success) throw new Error(result.message || "Failed to add to cart");
} else {
addToGuestCart({ itemId, name, unitPrice, sugar, milk, size, heat });
}

const confirmMsg = document.createElement('span');
confirmMsg.textContent = '✅ Added!';
confirmMsg.style.marginLeft = '10px';
confirmMsg.style.color = 'green';
confirmMsg.style.fontWeight = 'bold';
confirmMsg.classList.add('confirmation');

const existingMsg = parent.querySelector('.confirmation');
if (existingMsg) existingMsg.remove();
e.target.insertAdjacentElement('afterend', confirmMsg);
setTimeout(() => confirmMsg.remove(), 2000);

} catch (err) {
console.error('Error adding to cart:', err);
alert('Failed to add to cart.');
}
}
});
}); -->